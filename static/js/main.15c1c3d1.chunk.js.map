{"version":3,"sources":["Followers.js","Repos.js","User.js","UserList.js","userSearch.js","App.js","reportWebVitals.js","index.js"],"names":["Followers","props","useState","followers","setFollowers","useEffect","axios","method","url","link","headers","then","res","data","hidden","map","follower","index","className","href","login","target","rel","avatar_url","Repos","repos","setRepos","param","limit","repoHidden","repo","html_url","name","User","React","forwardRef","ref","user","setUser","toggleRepoHidden","followerHidden","toggleFollowerHidden","setRepoHidden","prevState","setFollowerHidden","onClick","alt","src","followers_url","repos_url","UserList","query","setQuery","pageNumber","setPageNumber","loading","setLoading","error","setError","users","setUsers","hasMore","setHasMore","cancel","params","since","cancelToken","CancelToken","c","prevUsers","Set","length","catch","e","isCancel","alert","userSearch","observer","useRef","lastUserElementRef","useCallback","node","current","disconnect","IntersectionObserver","entries","isIntersecting","prevPageNumber","observe","value","placeholder","type","onChange","indiv","App","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.15c1c3d1.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nexport default function Followers(props) {\r\n    const [followers, setFollowers] = useState([]);\r\n    useEffect(() => {\r\n        //console.log(props.link)\r\n        axios({\r\n            method: 'GET',\r\n            url: props.link,\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(res => {\r\n            //console.log(res.data)\r\n            setFollowers(res.data);\r\n        })\r\n\r\n    },[props.link])\r\n    if(!followers) {return <div></div>}\r\n\r\n    if(props.hidden === true){\r\n    return (\r\n        <>\r\n                {followers.map((follower, index) => {\r\n                    return <div className='repos' key={index}>\r\n                                <a className=\"repo-link\" href={follower.login}  target=\"_blank\" rel=\"noreferrer\">\r\n                                    <div className=\"repo-inner-div\" key={index}>{follower.avatar_url}</div>\r\n                                </a>\r\n                           </div>\r\n                })}\r\n        </>\r\n        )\r\n    }\r\n    else{return<div></div>}\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport './repos.css'\r\n\r\nconst Repos = (props) => {\r\n    const [repos, setRepos] = useState([]);\r\n    useEffect(() => {\r\n        //console.log(props.link)\r\n        axios({\r\n            method: 'GET',\r\n            url: props.link,\r\n            param: {limit: 10},\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n        .then(res => {\r\n            //console.log(res.data)\r\n            setRepos(res.data);\r\n        })\r\n\r\n    },[props.link])\r\n    if(!repos) {return <div></div>}\r\n\r\n    if(props.repoHidden === true){\r\n    return (\r\n        <>\r\n                {repos.map((repo, index) => {\r\n                    return <div className='repos' key={index}>\r\n                                <a className=\"repo-link\" href={repo.html_url}  target=\"_blank\" rel=\"noreferrer\">\r\n                                    <div className=\"repo-inner-div\" key={index}>{repo.name}</div>\r\n                                </a>\r\n                           </div>\r\n                })}\r\n        </>\r\n        )\r\n    }\r\n    else{return<div></div>}\r\n}\r\nexport default Repos;\r\n","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport Followers from './Followers'\r\nimport Repos from './Repos'\r\n/*\r\nComponent class: User\r\n\r\nProps: \r\nlink: The link to call the user profile. \r\nindex: Passed from user.map. Used as a key and keeps track of \r\n       what user-card divs should call the observer\r\n\r\nref: callback function for the observer.\r\n     Only last index divs should contain ref for useCallBack.\r\n\r\nstate: user: contains all the users data called from axios.\r\n\r\n*/\r\nconst User = React.forwardRef((props, ref) => {\r\n    const [user, setUser] = useState('');\r\n    const [repoHidden, toggleRepoHidden] = useState(false);\r\n    const [followerHidden, toggleFollowerHidden] = useState(false);\r\n\r\n    useEffect(() => {\r\n        //console.log(props)\r\n        axios({\r\n            method:'GET',\r\n            url: props.link\r\n        })\r\n        .then(res => {\r\n            //console.log()\r\n            setUser(res.data);\r\n        })\r\n    }, [props])\r\n    \r\n    const setRepoHidden = () => {\r\n        toggleRepoHidden((prevState) => !prevState)\r\n        //console.log(repoHidden);\r\n    }\r\n    const setFollowerHidden = () => {\r\n        toggleFollowerHidden((prevState) => !prevState)\r\n        //console.log(repoHidden);\r\n    }\r\n\r\n    if (!user){ return <div></div>}\r\n    else{\r\n        if (ref != null){\r\n            //console.log(props.index)\r\n            return (<div className=\"user-card\" key={props.index} ref={ref}>\r\n                        <a onClick={setRepoHidden}>\r\n                            <img className='pfp' alt=\"avatar\" src={user.avatar_url}/>\r\n                        </a>\r\n                        <div className=\"descriptor\">\r\n                        <h5>{user.name + \" Â· \"}  <a className=\"profile-link\" href={user.url}>{user.login}</a></h5>\r\n                        <div className=\"wrapper\">\r\n                            <button className=\"btn followers\" onClick={setFollowerHidden}>\r\n                                <div>Followers: {user.followers}</div>\r\n                            </button>\r\n                            <br/>\r\n                            <Followers link={user.followers_url}></Followers>\r\n                            <Repos link={user.repos_url} repoHidden={repoHidden}></Repos>\r\n                        </div>\r\n                    </div> \r\n        </div>)\r\n        }\r\n        else {\r\n            //console.log(props.index)\r\n            return <div className=\"user-card\" key={props.index}>\r\n                        <a onClick={setRepoHidden}>\r\n                            <img className='pfp' alt=\"avatar\" src={user.avatar_url}/>\r\n                        </a>\r\n                        <div className=\"descriptor\">\r\n                        <h5>{user.name + \" Â· \"}  <a className=\"profile-link\" href={user.url}>{user.login}</a></h5>\r\n                        <div className=\"wrapper\">\r\n                            <button className=\"btn followers\" onClick={setFollowerHidden}>\r\n                                <div>Followers: {user.followers}</div>\r\n                            </button>\r\n                            <br/>\r\n                            <Followers link={user.followers_url} followerHidden={followerHidden}></Followers>\r\n                            <Repos link={user.repos_url} repoHidden={repoHidden}></Repos>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n        }\r\n    }\r\n})\r\n\r\nexport default User;","import React, { useState, useRef, useCallback } from 'react';\r\nimport userSearch from './userSearch.js';\r\n\r\nimport './UserList.css'\r\nimport User from './User'\r\n\r\nexport default function UserList(){\r\n    const [query, setQuery] = useState('')\r\n    const [pageNumber, setPageNumber] = useState(0)\r\n    const {\r\n        users,\r\n        hasMore,\r\n        loading,\r\n        error\r\n    } = userSearch(query, pageNumber)\r\n    const observer = useRef();\r\n    const lastUserElementRef = useCallback(node => {\r\n        if(loading) return\r\n        if(observer.current) observer.current.disconnect()\r\n        observer.current = new IntersectionObserver(entries => {\r\n            if (entries[0].isIntersecting && hasMore){\r\n                setPageNumber(prevPageNumber => prevPageNumber + 30)// this 30 needs to be changed to indiv.id\r\n            }\r\n        })\r\n\r\n\r\n        if(node) observer.current.observe(node);\r\n    },[loading, hasMore])\r\n\r\n    function handleSearch (e){\r\n        setQuery(e.target.value)\r\n        setPageNumber(1)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <input className=\"search-bar\" value={query} placeholder=\"Search GitHub\" type='text' onChange={handleSearch}></input>\r\n            {users.map(user =>{\r\n                return user.map((indiv,index) => {\r\n                    if (user.length === index + 1){\r\n                                // if the user is equal to the last index, call the ref function\r\n                                //console.log(index)\r\n                        return <User key={index} link={indiv.url} index={index} ref={lastUserElementRef}/>\r\n                    }\r\n                    else{\r\n                                //  else, generate a normal user div\r\n                                //  console.log(index)\r\n                        return <User key={index} link={indiv.url} index={index}/>\r\n                    }\r\n                          \r\n                    \r\n                })\r\n            })}\r\n            <div className='loading'>{loading && 'Loading...'}</div>\r\n            <div className='error'>{error && 'Error'}</div>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\n\r\n","import { useEffect, useState } from  'react'\r\nimport axios from 'axios'\r\n\r\n\r\nexport default function useBookSearch(query, pageNumber){\r\n    const [loading, setLoading] = useState(true)\r\n    const [error, setError] = useState(false)\r\n    const [users, setUsers] = useState([])\r\n    const [ hasMore, setHasMore ] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if (query !== ''){\r\n            //getUserSearch();\r\n        }\r\n\r\n        setLoading(true)\r\n        setError(false)\r\n\r\n        let cancel\r\n\r\n        //axios for api call\r\n        axios({\r\n            method: 'GET',\r\n            url: `https://api.github.com/users`,\r\n            params: {since: pageNumber},\r\n            cancelToken: new axios.CancelToken(c => cancel = c)\r\n        }).then(res => {\r\n            setUsers(prevUsers =>{\r\n                // for some reason, set is not removing duplicates. \r\n                // May have something to do with the way the dom renders.\r\n                var uniqueSet = [...new Set([...prevUsers, res.data.map(users => users)])]\r\n                return uniqueSet\r\n            })\r\n            setHasMore(res.data.length > 0)\r\n            setLoading(false)\r\n           //console.log(res.data.map(users =>  users))\r\n        }).catch(e => {\r\n            if (axios.isCancel(e)) return\r\n            alert(e);\r\n            setError(true)\r\n        })\r\n        return() => cancel()\r\n    }, [query, pageNumber])\r\n\r\n    return {loading, error, users, hasMore}\r\n}","import './App.css';\nimport React, { Component } from 'react';\nimport UserList from './UserList';\nclass App extends Component {\n\n  render(){\n    return (\n      <div className=\"app\">\n        <UserList></UserList>\n      </div>\n    );\n  }\n  \n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}